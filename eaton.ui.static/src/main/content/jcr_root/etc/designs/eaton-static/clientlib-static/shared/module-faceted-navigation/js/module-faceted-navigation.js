/**
 *
 *
 *
 * - THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY -
 * - Generated by Gulp (gulp-babel).
 *
 *
 *
 *
 */


//-----------------------------------
// M-62: Faceted Navigation
//-----------------------------------
'use strict';

var App = window.App || {};

App.facets = function () {
  var $componentClass = $('.faceted-navigation');

  var init = function init() {
    $(function () {
      addEventListeners();
      localStorage.setItem('backToSearch', 'true');
    });
  };

  var addEventListeners = function addEventListeners() {
    $componentClass.on('click', '[data-facets-more-groups]', showAllFacetsGroups);
    $componentClass.on('click', '[data-facets-more-values]', showAllFacetsValues);
    $componentClass.find('.faceted-navigation__header').on('click', toggleIcons);
    $('[data-toggle-modal-facet]').on('click', toggleModal);
  };

  /**
  * toggle the mobile factes modal
  * @param  { Object } event - the click event object
  */
  var toggleIcons = function toggleIcons(e) {
    e.preventDefault();
    $(this).children('.icon-sign-plus').toggleClass('u-hide');
  };

  /**
  * toggle the mobile factes modal
  * @param  { Object } event - the click event object
  */
  var toggleModal = function toggleModal(event) {
    event.preventDefault();
    $('body').toggleClass('facets-open');
  };

  /**
  * Show the remaining facets-items/groups that were hidden on page load
  * @param  { Object } event - the click event object
  */
  var showAllFacetsGroups = function showAllFacetsGroups(event) {
    // Show hidden facets
    $componentClass.find('.faceted-navigation__more-facets').slideDown(200);

    // Hide "View more" <button>
    event.currentTarget.classList.add('u-hide');
  };

  /**
  * Show the remaining facets-values / options hidden in Each Group (eg: Checkboxes, radios)
  * @param  { Object } event - the click event object
  */
  var showAllFacetsValues = function showAllFacetsValues(event) {

    var $parentItem = $(event.currentTarget).closest('.faceted-navigation__facet-group');

    // Show hidden facet-values
    $parentItem.find('.faceted-navigation__list-item.u-hide').slideDown(200);

    // Hide "View more" <button>
    event.currentTarget.classList.add('u-hide');
  };

  /**
  * If containing DOM element is found, Initialize and Expose public methods
  */
  if ($componentClass.length > 0) {
    init();
  }
}();