/**
 *
 *
 *
 * - THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY -
 * - Generated by Gulp (gulp-babel).
 *
 *
 *
 *
 */


//-----------------------------------
// Component: Example Component
//-----------------------------------
'use strict';

var App = window.App || {};
App.scroll = function () {

  // Cached DOM Elements
  //--------------
  var $componentSelector = $('[data-scroll-to]');
  var $htmlEl = $('html, body');
  var headerEl = document.querySelector('.header');
  var productTabsEl = document.querySelector('.eaton-product-tabs');

  var headerHeightFixed = 84;
  var headerHeight = headerEl ? headerHeightFixed : 0;

  var productTabsHeight = productTabsEl ? productTabsEl.querySelector('.eaton-product-tabs__buttons').clientHeight : 0;

  var init = function init() {
    addEventListeners();
  };

  /**
   * Bind All Event Listeners
   */
  var addEventListeners = function addEventListeners() {

    // Bind click behavior for all elements with data-attr
    $componentSelector.on('click', fromClickedElement);
  };

  /**
  * Scroll the window to the given selector
  * @param { String } cssSelector. ID or Class of the element to scroll to
  */
  var toElementSelector = function toElementSelector(cssSelector) {
    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
    var offsetFixedComponets = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

    var positionTop = $(cssSelector).eq(0).offset().top;
    var titleHeight = 120;

    // NOTE: There are components like the Header that can have "Position: Fixed".
    // It adds these components height as an offset to the scroll behavior
    if (offsetFixedComponets) {

      // Offeset Header
      positionTop -= headerHeight;

      // Offset Product Tabs
      positionTop -= productTabsHeight;

      positionTop -= titleHeight;
    }

    $htmlEl.animate({
      scrollTop: positionTop
    }, duration);
  };

  /**
  * Scroll the window to clicked element with a custom "data-attr"
  * @param { Object } event - Click event object
  */
  var fromClickedElement = function fromClickedElement(event) {

    // Enable offset when The Header or other position fixed top components are in the current page
    var offsetEnabled = event.currentTarget.dataset.scrollTo && event.currentTarget.dataset.scrollToOffsetEnabled === 'true' ? true : false;

    // If the current element is <a> instead of a <button>
    event.preventDefault();

    var cssSelector = event.currentTarget.dataset.scrollTo;
    toElementSelector(cssSelector, 500, offsetEnabled);
  };

  /**
  * If containing DOM element is found, Initialize and Expose public methods
  */
  if ($componentSelector.length > 0) {
    init();

    // Public Methods
    return {
      toElementSelector: toElementSelector
    };
  }
}();